<odoo>

    <record model="ir.ui.view" id="res_user_agent_access">
        <field name="model">res.users</field>
        <field name="name">res.users.form</field>

        <field name="inherit_id" ref="base.view_users_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='login']" position="after">

                <div class="oe_title">
                    <label for="agent_code" string="Agent Code"/>
                    <field name="agent_code"   />
                </div>
                <div class="oe_title">
                    <label for="card_id" string="Broker Card"/>
                    <field name="card_id"   />
                </div>
                <div class="oe_title">
                    <label for="related_person" string="Related Person"/>
                    <field name="related_person"   />
                </div>
            </xpath>
        </field>
    </record>
    <record id="brokers_tree_view" model="ir.ui.view">
        <field name="name">brokers Tree</field>
        <field name="model">persons</field>
        <field name="arch" type="xml">
            <tree >
                <field name="name" />
                <field name="fra_no" />
                <field name="expire_date" />
                <field name="card_id" />
                <field name="com_reg" />
                <field name="pin"  />
                <field name="agent_code" />
                <field name="mobile" />
                <field name="type"/>
                <field name="related_user" readonly="1"/>
                <!--                <field name="is_broker" invisible="1"/>-->
                <!--                <field name="is_customer" invisible="1"/>-->
                <field name="is_user" invisible="1"/>

            </tree>
        </field>
    </record>
    <record id="person_form_view" model="ir.ui.view">
        <field name="name">persons Form</field>
        <field name="model">persons</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="create_user_surveyor" type="object"
                            string="Create User" class="oe_highlight" attrs="{'invisible': [('is_user', '=',True)]}" />
                </header>
                <sheet>

                    <div class="o_title">
                        <field name="company_type" widget="radio" class="oe_edit_only" options="{'horizontal': true}"/>
                        <h1 style="width:50% !important;">
                            <field name="name" default_focus="1" placeholder="Name"  required="1"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="lob" attrs="{'required': [('type','=','surveyor')]}"  widget="many2many_tags"/>
                            <field name="card_id" />
                            <field name="mobile" />
                            <field name="mail" />
                            <field name="user_password" />
                        </group>
                        <group>
                            <field name="survey_type" />
                            <field name="type" invisible="1"/>
                            <field name="is_user"  />
                        </group>
                    </group>
                    <group>
                        <group>
                            <field name="fra_no" />
                            <field name="expire_date" />
                            <field name="com_reg" />
                        </group>
                        <group>
                            <field name="pin" attrs="{'invisible': [('type','!=','customer')]}" />
                            <field name="agent_code"  attrs="{'invisible': [('type','!=','broker')]}"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <record id="broker_action" model="ir.actions.act_window">
        <field name="name">Brokers</field>
        <field name="res_model">persons</field>
        <field name="view_mode">tree,form,kanban,pivot</field>
        <!--        <field name="context">{"search_default_active":1}</field>-->
        <field name="view_id" ref="brokers_tree_view"/>
        <field name='domain'>[('type','=','broker')]</field>
        <field name="context">{'create': False,'edit':False}</field>

    </record>
    <record id="customers_action" model="ir.actions.act_window">
        <field name="name">Customers</field>
        <field name="res_model">persons</field>
        <field name="view_mode">tree,form,kanban,pivot</field>
        <field name='domain'>[('type','=','customer')]</field>
        <field name="view_id" ref="brokers_tree_view"/>
        <field name="context">{'create': False,'edit':False}</field>

    </record>
    <record id="surveyors_action" model="ir.actions.act_window">
        <field name="name">Surveyors</field>
        <field name="res_model">persons</field>
        <field name="view_mode">tree,form,kanban,pivot</field>
        <field name='domain'>[('type','=','surveyor')]</field>
        <field name="context">{'default_type':'surveyor'}</field>

        <!--        <field name="context">{"search_default_active":1}</field>-->
        <field name="view_id" ref="brokers_tree_view"/>
    </record>

</odoo>